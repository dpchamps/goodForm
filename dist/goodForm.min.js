/*! goodForm 11-01-2015 */
!function(a){"use strict";var b=a.document,c={doc:b};c.helpers={addClass:function(a,b){for(var c=!1,d=0;d<a.classList.length;d++)null!==a.classList[d].match(b)&&(c=!0);c||(a.className+=" "+b)},splice:function(a,b,c,d){return a.substring(0,b)+d+a.substring(c)},removeClass:function(a,b){var c=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g");a.className=a.className.replace(c,"")},setCaretPosition:function(a,b){a.setSelectionRange(b,b)},replaceAt:function(a,b,c){return a.substr(0,b)+c+a.substr(b+1,a.length)},isNumber:function(a){return a.match(/[0-9]/)?!0:!1}};var d=function(a){var b=[],c=[],d="",e=a.split(""),f=0,g=!1;console.log(e);for(var h=0;h<e.length;h++)"{"!==e[h]?"}"!==e[h]?1!==f?0===f&&(d+=e[h],g===!1&&(g=!0,b.push({start:d.length-1}))):(d+=e[h],c.push(d.length-1)):f--:(f++,g&&(g=!1,b[b.length-1].end=d.length));return g&&(b[b.length-1].end=d.length-1),{rangeMap:b,braceMap:c,value:d}};c.phoneAPI=d;var e=function(a){function b(a,b,c){return c>=a&&b>=c?!0:!1}function d(b){var d=j.value.substring(b.start,b.end);a.value=c.helpers.splice(a.value,b.start,b.end,d),a.setSelectionRange(b.start,b.end),l=""}function e(){a.setSelectionRange(j.rangeMap[k].start,j.rangeMap[k].end)}function f(b){var d=j.rangeMap[k],f=a.value.substring(d.start,d.end);l.length===f.length?k<j.rangeMap.length-1&&(k++,e(),l=""):(l+=b,f=c.helpers.splice(f,0,l.length,l),a.value=c.helpers.splice(a.value,d.start,d.end,f),l.length===f.length&&k<j.rangeMap.length-1&&(k++,l=""),e())}function g(a){if(a.which<48)switch(a.preventDefault(),a.which){case 8:break;case 46:d(j.rangeMap[k]);break;case 9:k<j.rangeMap.length-1&&(k++,e(),l="");break;case 37:k>0&&(k--,e(),l="");break;case 39:k<j.rangeMap.length-1&&(k++,e())}}function h(a){a.preventDefault(),e(),f(String.fromCharCode(a.which))}var i=a.dataset.addnumbermask,j=c.phoneAPI(i),k=0,l="";a.maxLength=j.value.length,a.value=j.value,a.addEventListener("click",function(c){c.preventDefault();var d=a.selectionStart,e=!1;j.rangeMap.forEach(function(c,f){b(c.start,c.end,d)&&(a.setSelectionRange(c.start,c.end),e=!0,k=f)}),e||(a.setSelectionRange(j.rangeMap[0].start,j.rangeMap[0].end),k=0);j.rangeMap[k]}),a.addEventListener("keydown",g,!1),a.addEventListener("keypress",h,!1)};c.addNumberMask=e;var f=b.querySelectorAll("[data-addnumbermask]"),g=Array.prototype.slice.call(f);g.forEach(function(a){c.addNumberMask(a)})}(this);