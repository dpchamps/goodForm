/*! goodForm 05-01-2015 */
!function(a){"use strict";var b=a.document,c={doc:b};c.helpers={addClass:function(a,b){for(var c=!1,d=0;d<a.classList.length;d++)null!==a.classList[d].match(b)&&(c=!0);c||(a.className+=" "+b)},splice:function(a,b,c,d){return a.substring(0,b)+d+a.substring(c)},removeClass:function(a,b){var c=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g");a.className=a.className.replace(c,"")},setCaretPosition:function(a,b){a.setSelectionRange(b,b)},replaceAt:function(a,b,c){return a.substr(0,b)+c+a.substr(b+1,a.length)},isNumber:function(a){return a.match(/[0-9]/)?!0:!1}};var d=function(a){var b=[],c=[],d="",e=a.split(""),f=0,g=!1;console.log(e);for(var h=0;h<e.length;h++)"{"!==e[h]?"}"!==e[h]?1!==f?0===f&&(d+=e[h],g===!1&&(g=!0,b.push({start:d.length-1}))):(d+=e[h],c.push(d.length-1)):f--:(f++,g&&(g=!1,b[b.length-1].end=d.length));return g&&(b[b.length-1].end=d.length-1),{rangeMap:b,braceMap:c,value:d}};c.phoneAPI=d;var e=function(a){function b(a,b,c){return c>=a&&b>=c?!0:!1}function d(b){var d=i.value.substring(b.start,b.end);a.value=c.helpers.splice(a.value,b.start,b.end,d),a.setSelectionRange(b.start,b.end),k=""}function e(){a.setSelectionRange(i.rangeMap[j].start,i.rangeMap[j].end)}function f(a){if(a.which<48)switch(a.preventDefault(),a.which){case 8:d(i.rangeMap[j]);break;case 46:d(i.rangeMap[j]);break;case 9:j<i.rangeMap.length-1&&(j++,e(),k="");break;case 37:j>0&&(j--,e(),k="");break;case 39:j<i.rangeMap.length-1&&(j++,e())}}function g(b){b.preventDefault(),e();var d=i.rangeMap[j],f=a.value.substring(d.start,d.end);k.length===f.length?j<i.rangeMap.length-1&&(j++,e(),k=""):(k+=String.fromCharCode(b.which),f=c.helpers.splice(f,0,k.length,k),console.log(k,f),a.value=c.helpers.splice(a.value,d.start,d.end,f),k.length===f.length&&j<i.rangeMap.length-1&&(j++,k=""),e())}var h=a.dataset.addnumbermask,i=c.phoneAPI(h),j=0,k="";a.maxLength=i.value.length,a.value=i.value,a.addEventListener("click",function(c){c.preventDefault();var d=a.selectionStart,e=!1;i.rangeMap.forEach(function(c,f){b(c.start,c.end,d)&&(a.setSelectionRange(c.start,c.end),e=!0,j=f)}),e||(a.setSelectionRange(i.rangeMap[0].start,i.rangeMap[0].end),j=0);i.rangeMap[j]}),a.addEventListener("keydown",f,!1),a.addEventListener("keypress",g,!1)};c.addNumberMask=e;var f=b.querySelectorAll("[data-addnumbermask]"),g=Array.prototype.slice.call(f);g.forEach(function(a){c.addNumberMask(a)})}(this);