/*! goodForm 11-01-2015 */
!function(a){"use strict";var b=a.document,c={doc:b};c.helpers={addClass:function(a,b){for(var c=!1,d=0;d<a.classList.length;d++)null!==a.classList[d].match(b)&&(c=!0);c||(a.className+=" "+b)},splice:function(a,b,c,d){return a.substring(0,b)+d+a.substring(c)},removeClass:function(a,b){var c=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g");a.className=a.className.replace(c,"")},setCaretPosition:function(a,b){a.setSelectionRange(b,b)},replaceAt:function(a,b,c){return a.substr(0,b)+c+a.substr(b+1,a.length)},isNumber:function(a){return a.match(/[0-9]/)?!0:!1}};var d=function(a){var b=[],c=[],d="",e=a.split(""),f=0,g=!1;console.log(e);for(var h=0;h<e.length;h++)"{"!==e[h]?"}"!==e[h]?1!==f?0===f&&(d+=e[h],g===!1&&(g=!0,b.push({start:d.length-1}))):(d+=e[h],c.push(d.length-1)):f--:(f++,g&&(g=!1,b[b.length-1].end=d.length));return g&&(b[b.length-1].end=d.length-1),{rangeMap:b,braceMap:c,value:d}};c.phoneAPI=d;var e=function(a){function b(a,b,c){return c>=a&&b>=c?!0:!1}function d(b){var d=k.value.substring(b.start,b.end);a.value=c.helpers.splice(a.value,b.start,b.end,d),a.setSelectionRange(b.start,b.end),m=""}function e(){a.setSelectionRange(k.rangeMap[l].start,k.rangeMap[l].end)}function f(b){var d=k.rangeMap[l],f=a.value.substring(d.start,d.end);m.length===f.length?l<k.rangeMap.length-1&&(l++,e(),m=""):(m+=b,f=c.helpers.splice(f,0,m.length,m),a.value=c.helpers.splice(a.value,d.start,d.end,f),m.length===f.length&&l<k.rangeMap.length-1&&(l++,m=""),e())}function g(){var b=k.rangeMap[l],d=k.value.substring(b.start,b.end);""===m&&l>0?(l--,e(),b=k.rangeMap[l],m=a.value.substring(b.start,b.end),g()):(m=m.slice(0,m.length-1),d=c.helpers.splice(d,0,m.length,m),a.value=c.helpers.splice(a.value,b.start,b.end,d),e())}function h(a){if(a.which<48)switch(a.preventDefault(),a.which){case 8:g();break;case 46:d(k.rangeMap[l]);break;case 9:l<k.rangeMap.length-1&&(l++,e(),m="");break;case 37:l>0&&(l--,e(),m="");break;case 39:l<k.rangeMap.length-1&&(l++,e())}}function i(a){a.preventDefault(),e(),f(String.fromCharCode(a.which))}var j=a.dataset.addnumbermask,k=c.phoneAPI(j),l=0,m="";a.maxLength=k.value.length,a.value=k.value,a.addEventListener("click",function(c){c.preventDefault();var d=a.selectionStart,e=!1;k.rangeMap.forEach(function(c,f){b(c.start,c.end,d)&&(a.setSelectionRange(c.start,c.end),e=!0,l=f)}),e||(a.setSelectionRange(k.rangeMap[0].start,k.rangeMap[0].end),l=0);k.rangeMap[l]}),a.addEventListener("keydown",h,!1),a.addEventListener("keypress",i,!1)};c.addNumberMask=e;var f=b.querySelectorAll("[data-addnumbermask]"),g=Array.prototype.slice.call(f);g.forEach(function(a){c.addNumberMask(a)})}(this);